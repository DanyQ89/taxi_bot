# Такси Бот

Данный проект представляет собой бота для заказа такси, разработанного с целью упрощения процесса вызова такси и управления поездками. 

## Основной функционал

### Главное меню
- Кнопки:
  - “Заказать такси”
  - “Стать водителем”
  - “Пополнить баланс” (если пользователь уже является водителем)
  - “Обратная связь”

### Заказать такси
1. Пассажир нажимает “Заказать такси”.
2. Бот предлагает выбрать населенный пункт из списка кнопок.
3. Бот предлагает выбрать “Откуда” из последних трех адресов или ввести новый адрес.
4. Бот предлагает выбрать “Куда” из последних трех адресов или ввести новый адрес.
5. Бот предлагает выбрать количество пассажиров с помощью кнопок.
6. Бот предлагает выбрать стоимость с помощью кнопок.
7. Пассажир вводит номер телефона.
8. Бот подтверждает и отправляет заказ в приватный чат водителей.

### Стать водителем
- Водитель вводит команду `/register_driver` для регистрации.
- Бот сохраняет данные водителя и добавляет его в приватный чат.

### Пополнить баланс
- Если пользователь уже является водителем, кнопка “Пополнить баланс” выводит сообщение с инструкциями о том, как пополнить баланс.

### Обратная связь
- Пользователь может отправить сообщение администратору через бот.

## Функционал для пассажиров

### Создание заказа
- Пассажир вводит данные последовательно: населенный пункт, “Откуда”, “Куда”, количество пассажиров, стоимость, номер телефона.
- Бот парсит сообщения и отправляет заказ в приватный чат водителей.

### Подтверждение заказа
- После успешного парсинга и отправки заказа, пассажиру отправляется сообщение о том, что его заказ принят в обработку.

### Уведомления
- Пассажир получает уведомление, когда водитель принимает его заказ, сколько у водителя уже пассажиров, и когда водитель набирает новых пассажиров.

### Быстрый набор
- При заказе такси пассажиру предлагаются кнопки с последними тремя адресами для быстрого набора.

## Функционал для водителей

### Регистрация водителя
- Водитель вводит команду `/register_driver` для регистрации.
- Бот сохраняет данные водителя и добавляет его в приватный чат.

### Приватный чат для водителей
- Заказы, отправленные пассажирами, публикуются в приватном чате для водителей.
- Водитель видит только те заказы, которые соответствуют количеству свободных мест в его машине и фильтру по населенным пунктам.

### Фильтрация заказов по населенным пунктам
- В чате для водителей должна быть возможность фильтровать заказы по населенным пунктам с помощью кнопок с названиями населенных пунктов.

### Принятие заказа
- В каждом сообщении с заказом в приватном чате водителей должна быть кнопка “Принять заказ”. При нажатии на кнопку водитель подтверждает принятие заказа.

### Уведомления и управление поездкой
- После принятия заказа водителю отправляется сообщение с данными заказа и кнопкой “Я еду”.
- При нажатии кнопки “Я еду” пассажиру отправляется уведомление о выезде, указывая количество пассажиров у водителя.
- При нажатии кнопки “Завершить поездку” пассажиру отправляется уведомление о завершении поездки.

### Удаление сообщения
- Сообщение с принятым заказом должно содержать неактивную кнопку “Заказ принят” и удаляться через 20 минут.

### Баланс водителя
- У каждого водителя должен быть баланс, с которого изымается определенная сумма за каждого пассажира. Водитель может пополнить баланс через инструкцию, доступную через кнопку “Пополнить баланс”.

## Админ панель

### Просмотр статистики
- Возможность просматривать статистику заказов и активности водителей.

### Управление водителями
- Добавление и удаление водителей.
- Управление балансом водителей (добавление и снятие средств).
- Просмотр баланса водителей.

### Обратная связь
- Возможность просматривать и отвечать на сообщения от пользователей.

## Ссылка на проект
[GitHub - DanyQ89/taxi_bot](https://github.com/DanyQ89/taxi_bot/)
